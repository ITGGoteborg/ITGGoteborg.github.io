function CountDownTimer(n,t){this.duration=n,this.granularity=t||1e3,this.tickFtns=[],this.running=!1}CountDownTimer.prototype.start=function(){if(!this.running){this.running=!0;var n,t=Date.now(),i=this;!function o(){n=i.duration-((Date.now()-t)/1e3|0),n>0?setTimeout(o,i.granularity):(n=0,i.running=!1),i.tickFtns.forEach(function(t){t.call(this,n)},i)}()}},CountDownTimer.prototype.onTick=function(n){return"function"==typeof n&&this.tickFtns.push(n),this},CountDownTimer.prototype.expired=function(){return!this.running};
